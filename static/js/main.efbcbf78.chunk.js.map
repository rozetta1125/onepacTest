{"version":3,"sources":["appDispatcher.js","api/apiUtils.js","api/nasaApi.js","actions/actionTypes.js","actions/dataActions.js","api/constants.js","components/common/SearchForm.js","components/HomePage.js","components/PageNotFound.js","stores/dataStore.js","components/common/likeButton.js","components/common/removeButton.js","components/DataDetail.js","components/DataList.js","components/DataPage.js","components/common/textInput.js","components/common/textArea.js","components/common/EditForm.js","components/ManageData.js","App.js","reportWebVitals.js","index.js"],"names":["dispatcher","Dispatcher","fetchJson","url","options","defaultOptions","timeout","Accept","fetchOptions","checkResponse","response","json","then","status","Promise","resolve","reject","error","Error","statusText","fetch","asyncLocalStorage","key","JSON","parse","localStorage","getItem","actionTypes","SEARCH_DATA","LOAD_DATA","EDIT_DATA","LIKE_DATA","UNLIKE_DATA","REMOVE_DATA","UNREMOVE_DATA","searchApi","query","nasaApi","collection","dispatch","loadData","SearchForm","useState","value","setValue","busy","setBusy","history","useHistory","onSubmit","e","preventDefault","push","type","onChange","event","target","HomePage","className","PageNotFound","CHANGE_EVENT","_collection","store","callback","this","on","removeListener","emit","stringify","setItem","id","items","find","item","data","nasa_id","links","href","EventEmitter","register","action","updateLocalStorage","emitChange","forEach","index","console","log","LikeButton","setData","firstUpdate","useRef","useEffect","current","likeData","like","onClick","RemoveButton","removeData","remove","DataDetail","image","title","to","height","once","src","alt","prototype","PropTypes","string","isRequired","DataList","props","FilterArray","isEmpty","filter","sort","a","b","Date","date_created","toLowerCase","length","breakpointCols","columnClassName","map","DataPage","dataStore","getCollection","setCollection","isBusy","setType","setFilter","handleCLick","addChangeListener","removeChangeListener","style","TextInput","wrapperClass","name","defaultProps","TextArea","EditForm","label","errors","description","ManageData","setErrors","setImage","handleBack","match","params","catch","getDataById","getImageById","_errors","Object","keys","formIsValid","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.efbcbf78.chunk.js","sourcesContent":["import {Dispatcher} from 'flux';\r\n\r\nconst dispatcher = new Dispatcher();\r\n\r\nexport default dispatcher;","const fetchJson = (url, options = {}) => {\r\n  const defaultOptions = {\r\n    timeout: 2000,\r\n    Accept: 'application/json',\r\n    'Content-Type': 'application/json'\r\n  };\r\n  const fetchOptions = { ...defaultOptions, ...options };\r\n\r\n  const checkResponse = response =>\r\n    response.json().then(\r\n      json => {\r\n        if (response.status >= 200 && response.status < 300) {\r\n          return Promise.resolve(json);\r\n        } else if (response.status >= 400 && response.status < 500) {\r\n          return Promise.reject(json);\r\n        }\r\n        return json;\r\n      },\r\n      () => {\r\n        var error = new Error(response.statusText);\r\n        error.response = response;\r\n        throw error;\r\n      }\r\n    );\r\n\r\n  return fetch(url, fetchOptions).then(checkResponse);\r\n};\r\n\r\nexport default fetchJson;\r\n","import fetchJson from \"./apiUtils\";\r\nimport { NASA_API_URL } from './constants';\r\n\r\n\r\nexport function searchNasa(query) {\r\n  return fetchJson(`${NASA_API_URL}/search?q=${query}&media_type=image`)\r\n}\r\n\r\n\r\n// function asyncLocalStorage(key) {\r\n//   return Promise.resolve().then(()=>{\r\n//     return localStorage.getItem(key);\r\n//   })\r\n// }\r\nconst asyncLocalStorage = {\r\n  setItem: function (key, value) {\r\n    return Promise.resolve().then(function () {\r\n        localStorage.setItem(key, value);\r\n    });\r\n  },\r\n  getItem: function (key) {\r\n    return Promise.resolve().then(function () {\r\n        return JSON.parse(localStorage.getItem(key));\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport function getData(){\r\n  return asyncLocalStorage.getItem(\"onepacTest\");\r\n}\r\n","const actionTypes = {\r\n  SEARCH_DATA: \"SEARCH_DATA\",\r\n  LOAD_DATA: \"LOAD_DATA\",\r\n  EDIT_DATA: \"EDIT_DATA\",\r\n  LIKE_DATA: \"LIKE_DATA\",\r\n  UNLIKE_DATA: \"UNLIKE_DATA\",\r\n  REMOVE_DATA: \"REMOVE_DATA\",\r\n  UNREMOVE_DATA: \"UNREMOVE_DATA\",\r\n};\r\n\r\nexport default actionTypes;","import dispatcher from '../appDispatcher';\r\nimport * as nasaApi from '../api/nasaApi';\r\nimport actionTypes from './actionTypes';\r\n\r\nexport function searchApi(query) {\r\n  return nasaApi.searchNasa(query).then(collection => {\r\n    dispatcher.dispatch({\r\n      actionTypes: actionTypes.SEARCH_DATA,\r\n      collection:collection.collection\r\n    })\r\n  })\r\n}\r\n\r\nexport function loadData(){\r\n  return nasaApi.getData().then(collection=>{\r\n    dispatcher.dispatch({\r\n      actionTypes: actionTypes.LOAD_DATA,\r\n      collection: collection,\r\n    })\r\n  })\r\n}\r\n\r\nexport function updateData(item){\r\n  dispatcher.dispatch({\r\n    actionTypes: actionTypes.EDIT_DATA,\r\n    item: item,\r\n  })\r\n}\r\n\r\nexport function likeData(item){\r\n  dispatcher.dispatch({\r\n    actionTypes: actionTypes.LIKE_DATA,\r\n    item: item,\r\n  })\r\n}\r\n\r\nexport function removeData(item){\r\n  dispatcher.dispatch({\r\n    actionTypes: actionTypes.REMOVE_DATA,\r\n    item: item,\r\n  })\r\n}","export const NASA_API_URL = 'https://images-api.nasa.gov/';\r\n","import React,{useState} from 'react';\r\nimport { searchApi } from \"../../actions/dataActions\";\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport function SearchForm(){\r\n  const [value,setValue] = useState('');\r\n  const [busy, setBusy] = useState(false);\r\n  const history = useHistory();\r\n\r\n\r\n  const handleChange = event => {\r\n    setValue(event.target.value)\r\n  }\r\n  const handleSubmit = (e)=>{\r\n    e.preventDefault();\r\n    setBusy(true);\r\n    searchApi(value).then(()=>{\r\n      history.push('/data');\r\n      setBusy(false);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <input \r\n        type=\"text\" \r\n        value={value}\r\n        onChange={handleChange}\r\n      />\r\n      <input type=\"submit\" value=\"Search\"/>\r\n      {busy ? <p>Searching...</p> : <></>}\r\n    </form>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport {SearchForm} from \"./common/SearchForm\";\r\n\r\nconst HomePage = () => (\r\n  <div className=\"jumbotron\">\r\n    <h3>Search NASA API</h3>\r\n    <SearchForm/>\r\n  </div>\r\n);\r\n\r\nexport default HomePage;\r\n","import React from \"react\";\r\n\r\nconst PageNotFound = () => <h1>Oops! Page not found.</h1>;\r\n\r\nexport default PageNotFound;\r\n","import { EventEmitter } from \"events\";\r\nimport Dispatcher from \"../appDispatcher\";\r\nimport actionTypes from \"../actions/actionTypes\";\r\n\r\nconst CHANGE_EVENT = \"change\";\r\n\r\nlet _collection = [];\r\n\r\nclass DataStore extends EventEmitter{\r\n  addChangeListener(callback) {\r\n    this.on(CHANGE_EVENT, callback);\r\n  }\r\n\r\n  removeChangeListener(callback) {\r\n    this.removeListener(CHANGE_EVENT, callback);\r\n  }\r\n\r\n  emitChange() {\r\n    this.emit(CHANGE_EVENT);\r\n  }\r\n\r\n  updateLocalStorage(){\r\n    let stringify = JSON.stringify(_collection);\r\n    localStorage.setItem(\"onepacTest\",stringify);\r\n  }\r\n\r\n  getCollection() {\r\n    return _collection;\r\n  }\r\n\r\n  getDataById(id) {\r\n    let test = _collection.items.find(item => item.data[0].nasa_id === id);\r\n    return test.data[0];\r\n  }\r\n  getImageById(id){\r\n    let test = _collection.items.find(item => item.data[0].nasa_id === id);\r\n    return test.links[0].href;\r\n  }\r\n}\r\n\r\nconst store = new DataStore();\r\n\r\nDispatcher.register(action => {\r\n  switch(action.actionTypes){\r\n    case actionTypes.SEARCH_DATA:\r\n      _collection = action.collection;\r\n      store.updateLocalStorage();\r\n      store.emitChange();\r\n      break;\r\n    case actionTypes.LOAD_DATA:\r\n      _collection = action.collection;\r\n      store.emitChange();\r\n      break;\r\n    case actionTypes.EDIT_DATA:\r\n      _collection.items.forEach((item,index)=>{\r\n        if(item.data[0].nasa_id === action.item.nasa_id){\r\n          _collection.items[index].data[0] = action.item;\r\n        }\r\n      });\r\n      store.updateLocalStorage();\r\n      store.emitChange();\r\n      break;\r\n    case actionTypes.LIKE_DATA:\r\n      _collection.items.forEach((item,index)=>{\r\n        if(item.data[0].nasa_id === action.item.nasa_id){\r\n          _collection.items[index].data[0] = action.item;\r\n        }\r\n      });\r\n      store.updateLocalStorage();\r\n      store.emitChange();\r\n      break;\r\n    case actionTypes.REMOVE_DATA:\r\n      console.log(action.item.nasa_id);\r\n      _collection.items.forEach((item,index)=>{\r\n        if(item.data[0].nasa_id === action.item.nasa_id){\r\n          console.log(_collection.items[index].data[0])\r\n          _collection.items[index].data[0] = action.item;\r\n          console.log(_collection.items[index].data[0])\r\n        }\r\n      });\r\n      store.updateLocalStorage();\r\n      store.emitChange();\r\n      break;\r\n    default:\r\n  }\r\n})\r\n\r\nexport default store;","import React,{useEffect,useRef, useState} from 'react';\r\nimport {likeData} from '../../actions/dataActions';\r\n\r\nexport function LikeButton(item){\r\n  const [data,setData] = useState(item.item.data[0]);\r\n\r\n  const firstUpdate = useRef(true);\r\n\r\n  useEffect(()=>{\r\n    if(firstUpdate.current){\r\n      firstUpdate.current = false;\r\n      return;\r\n    } else {\r\n      likeData(data);\r\n    }\r\n  },[data]);\r\n\r\n  function handleClick(){\r\n    if(!data.like){\r\n      console.log('liked')\r\n      setData({...data,like:true});\r\n    } else {\r\n      console.log('unliked')\r\n      setData({...data,like:false});\r\n    }\r\n  }\r\n\r\n  return(\r\n    <button \r\n      className={\"likeButton \" + (data.like ? 'liked' : 'unliked')} \r\n      onClick={handleClick}\r\n    >\r\n      Like\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default LikeButton;","import React,{useEffect,useRef, useState} from 'react';\r\nimport {removeData} from '../../actions/dataActions';\r\n\r\nexport function RemoveButton(item){\r\n  const [data,setData] = useState(item.item.data[0]);\r\n\r\n  const firstUpdate = useRef(true);\r\n\r\n  useEffect(()=>{\r\n    if(firstUpdate.current){\r\n      firstUpdate.current = false;\r\n      return;\r\n    } else {\r\n      removeData(data);\r\n    }\r\n  },[data]);\r\n\r\n  function handleClick(){\r\n    if(!data.remove){\r\n      console.log('remove')\r\n      setData({...data,remove:true});\r\n    } else {\r\n      console.log('undo')\r\n      setData({...data,remove:false});\r\n    }\r\n  }\r\n\r\n  return(\r\n    <button \r\n      className={\"removeButton \" + (data.remove ? 'removed' : '')} \r\n      onClick={handleClick}\r\n    >\r\n      {(!data.remove ? 'X' : 'Undo')}\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default RemoveButton;","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport LazyLoad from 'react-lazyload';\r\nimport './styles/DataDetail.scss';\r\nimport LikeButton from './common/likeButton';\r\nimport RemoveButton from './common/removeButton';\r\n\r\nconst DataDetail = ({id,image,title,item}) => (\r\n  <article className=\"GalleryItem\">\r\n    <Link className=\"GalleryItem-wrapper\" to={`/detail/${id}`} title={title}>\r\n      <div className=\"GalleryItem-imageWrapper\">\r\n        <LazyLoad height={200} once>\r\n          <img \r\n            src={image}\r\n            alt={title}\r\n            className=\"GalleryItem-image\"\r\n          />\r\n        </LazyLoad>\r\n      </div>\r\n      <p className=\"GalleryItem-title\">{title}</p>\r\n    </Link>\r\n    <LikeButton item={item}/>\r\n    <RemoveButton item={item}/>\r\n  </article>\r\n);\r\n\r\nDataDetail.prototype = {\r\n  image: PropTypes.string.isRequired,\r\n  id: PropTypes.string.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default DataDetail;","import React from 'react';\r\nimport DataDetail from './DataDetail';\r\nimport './styles/DataList.scss';\r\nimport Masonry from 'react-masonry-css'\r\n\r\n\r\nfunction DataList(props){\r\n  let FilterArray=[];\r\n\r\n  let isEmpty=false;\r\n\r\n  switch (props.type) {\r\n    case 'LIKED':\r\n      FilterArray = props.collection.items.filter(item => {\r\n        return item.data[0].like&&!item.data[0].remove\r\n      });\r\n      break;\r\n    case 'REMOVED':\r\n      FilterArray = props.collection.items.filter(item => {\r\n        return item.data[0].remove\r\n      });\r\n      break;\r\n    default:\r\n      FilterArray = props.collection.items;\r\n      break;\r\n  }\r\n\r\n  switch (props.filter){\r\n    case 'Newest':\r\n      FilterArray.sort((a,b)=>{\r\n        return new Date(b.data[0].date_created) - new Date(a.data[0].date_created);\r\n      })\r\n      break;\r\n    case 'Oldest':\r\n      FilterArray.sort((a,b)=>{\r\n        return new Date(a.data[0].date_created) - new Date(b.data[0].date_created);\r\n      })\r\n      break;\r\n    case 'A-Z':\r\n      FilterArray.sort((a,b)=>{\r\n        if(a.data[0].title.toLowerCase() < b.data[0].title.toLowerCase()) return -1;\r\n        if(a.data[0].title.toLowerCase() > b.data[0].title.toLowerCase()) return 1;\r\n        return 0;\r\n      })\r\n    break;\r\n    case 'Z-A':\r\n      FilterArray.sort((a,b)=>{\r\n        if(a.data[0].title.toLowerCase() < b.data[0].title.toLowerCase()) return 1;\r\n        if(a.data[0].title.toLowerCase() > b.data[0].title.toLowerCase()) return -1;\r\n        return 0;\r\n      })\r\n    break;\r\n    default:\r\n      break;\r\n  }\r\n  \r\n  if(FilterArray.length===0){\r\n    isEmpty=true;\r\n  }\r\n\r\n  return (\r\n    <>\r\n    {isEmpty ? <p>There is no result</p> : \r\n    <Masonry breakpointCols={3}\r\n      className=\"my-masonry-grid\"\r\n      columnClassName=\"my-masonry-grid_column\">\r\n      {FilterArray.map((item) => \r\n      {\r\n        return (\r\n          <DataDetail\r\n          key={item.data[0].nasa_id}\r\n          id={item.data[0].nasa_id}\r\n          image={item.links[0].href}\r\n          title={item.data[0].title}\r\n          item={item}\r\n          />\r\n        )\r\n      })}\r\n    </Masonry>}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default DataList;","import React, {useState, useEffect } from \"react\";\r\nimport dataStore from \"../stores/dataStore\";\r\nimport DataList from \"./DataList\";\r\nimport {loadData} from '../actions/dataActions';\r\n\r\nfunction DataPage(){\r\n  const [collection, setCollection] = useState(dataStore.getCollection());\r\n  const [isBusy, setBusy] = useState(true);\r\n  const [type,setType] = useState();\r\n  const [filter,setFilter] = useState();\r\n\r\n  useEffect(()=>{\r\n    dataStore.addChangeListener(onChange);\r\n    if (dataStore.getCollection.length === 0) loadData().then(()=>{\r\n      setBusy(false);\r\n    });\r\n    return () => dataStore.removeChangeListener(onChange);\r\n  },[]);\r\n\r\n  function onChange(){\r\n    setCollection(dataStore.getCollection());\r\n  }\r\n\r\n  function handleFilter(e){\r\n    setFilter(e.target.value);\r\n  }\r\n\r\n  function handleCLick(e){\r\n    setType(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h2>Data Page</h2>\r\n      <button value='ALL' onClick={handleCLick}>All Data</button>\r\n      <button value='LIKED' onClick={handleCLick}>All Liked Data</button>\r\n      <button value='REMOVED' onClick={handleCLick}>All Removed Data</button>\r\n\r\n      <select style={{\"float\":\"right\"}} value={filter} onChange={handleFilter}>\r\n        <option value=\"Sort\">Sort</option>\r\n        <option value=\"Newest\">Newest</option>\r\n        <option value=\"Oldest\">Oldest</option>\r\n        <option value=\"A-Z\">A-Z</option>\r\n        <option value=\"Z-A\">Z-A</option>\r\n      </select>\r\n\r\n      {!isBusy ? (\r\n        <DataList collection={collection} type={type} filter={filter}/>\r\n      ) : <div>Loading...</div> }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default DataPage;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction TextInput(props) {\r\n  let wrapperClass = \"form-group\";\r\n  if (props.error.length > 0) {\r\n    wrapperClass += \" has-error\";\r\n  }\r\n\r\n  return (\r\n    <div className={wrapperClass}>\r\n      <div className=\"field\">\r\n        <input\r\n          id={props.id}\r\n          type=\"text\"\r\n          onChange={props.onChange}\r\n          name={props.name}\r\n          className=\"form-control\"\r\n          value={props.value}\r\n        />\r\n      </div>\r\n      {props.error && <div className=\"alert alert-danger\">{props.error}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nTextInput.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  label: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  value: PropTypes.string,\r\n  error: PropTypes.string\r\n};\r\n\r\nTextInput.defaultProps = {\r\n  error: \"\"\r\n};\r\n\r\nexport default TextInput;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction TextArea(props) {\r\n  let wrapperClass = \"form-group\";\r\n  if (props.error.length > 0) {\r\n    wrapperClass += \" has-error\";\r\n  }\r\n\r\n  return (\r\n    <div className={wrapperClass}>\r\n      <div className=\"field\">\r\n        <textarea\r\n          id={props.id}\r\n          type=\"text\"\r\n          onChange={props.onChange}\r\n          name={props.name}\r\n          className=\"form-control\"\r\n          value={props.value}\r\n        />\r\n      </div>\r\n      {props.error && <div className=\"alert alert-danger\">{props.error}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nTextArea.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  label: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  value: PropTypes.string,\r\n  error: PropTypes.string\r\n};\r\n\r\nTextArea.defaultProps = {\r\n  error: \"\"\r\n};\r\n\r\nexport default TextArea;\r\n","import React from \"react\";\r\nimport TextInput from \"./textInput\";\r\nimport TextArea from \"./textArea\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction EditForm(props) {\r\n  return (\r\n    <form onSubmit={props.onSubmit}>\r\n      <TextInput\r\n        id=\"title\"\r\n        label=\"Title\"\r\n        onChange={props.onChange}\r\n        name=\"title\"\r\n        value={props.data.title}\r\n        error={props.errors.title}\r\n      />\r\n\r\n      <TextArea\r\n        id=\"description\"\r\n        label=\"Description\"\r\n        onChange={props.onChange}\r\n        name=\"description\"\r\n        value={props.data.description}\r\n        error={props.errors.description}\r\n      />\r\n\r\n      <input type=\"submit\" value=\"Save\" className=\"btn btn-primary\" />\r\n    </form>\r\n  );\r\n}\r\n\r\nEditForm.propTypes = {\r\n  data: PropTypes.object.isRequired,\r\n  onSubmit: PropTypes.func.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  errors: PropTypes.object.isRequired\r\n};\r\n\r\nexport default EditForm;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport dataStore from \"../stores/dataStore\";\r\nimport {loadData,updateData} from '../actions/dataActions';\r\nimport EditForm from './common/EditForm';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './styles/ManageData.scss';\r\n\r\nconst ManageData = props => {\r\n  const [errors, setErrors] = useState({});\r\n  const [collection, setCollection] = useState(dataStore.getCollection());\r\n  const [data, setData] = useState({});\r\n  const [image, setImage] = useState({});\r\n  const [isBusy, setBusy] = useState(true);\r\n  const history = useHistory();\r\n\r\n  useEffect(()=>{\r\n    dataStore.addChangeListener(onChange);\r\n    const id = props.match.params.id;\r\n    if (collection.length === 0){\r\n      loadData().catch(()=>{\r\n        setBusy(false);\r\n        setData(dataStore.getDataById(id));\r\n        setImage(dataStore.getImageById(id));\r\n      })\r\n    } else if (id) {\r\n      setData(dataStore.getDataById(id));\r\n      setImage(dataStore.getImageById(id));\r\n      setBusy(false);\r\n    }\r\n    return () => dataStore.removeChangeListener(onChange);\r\n  },[collection.length, props.match.params.id]);\r\n\r\n  function onChange(){\r\n    setCollection(dataStore.getCollection());\r\n  }\r\n\r\n  function handleChange({ target }) {\r\n    setData({\r\n      ...data,\r\n      [target.name]: target.value\r\n    });\r\n  }\r\n\r\n  function formIsValid() {\r\n    const _errors = {};\r\n\r\n    if (!data.title) _errors.title = \"Title is required\";\r\n    if (!data.description) _errors.description = \"Description is required\";\r\n\r\n    setErrors(_errors);\r\n    // Form is valid if the errors object has no properties\r\n    return Object.keys(_errors).length === 0;\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    if(!formIsValid()) return;\r\n    updateData(data);\r\n    handleBack();\r\n  }\r\n\r\n  function handleBack(){\r\n    history.push('/data');\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {!isBusy ? (\r\n        <div className=\"flex-row\">\r\n          <div className=\"flex-img\">\r\n            <div className=\"ManageItem\">\r\n              <div className=\"ManageItem-imageWrapper\">\r\n              <img \r\n                src={image}\r\n                alt={data.title}\r\n                className=\"ManageItem-image\"\r\n              />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex-form\">\r\n          <br />\r\n          <button onClick={handleBack}>Back</button>\r\n          <br /><br />\r\n          <h2>Edit Data</h2>\r\n          <EditForm\r\n            errors={errors}\r\n            data={data}\r\n            onChange={handleChange}\r\n            onSubmit={handleSubmit}\r\n          />\r\n          </div>\r\n        </div>\r\n        ) : <div>Loading</div> }\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ManageData;","import './App.scss';\r\nimport React from 'react';\r\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\r\nimport HomePage from \"./components/HomePage\";\r\nimport PageNotFound from \"./components/PageNotFound\";\r\nimport DataPage from \"./components/DataPage\";\r\nimport ManageData from './components/ManageData';\r\n\r\nfunction App() {\r\n  return (\r\n    <div id=\"app\" className=\"container-fluid\">\r\n      <HashRouter>\r\n      <Switch>\r\n        <Route exact path='/' component={HomePage} />\r\n        <Route path=\"/data\" component={DataPage} />\r\n        <Route path=\"/detail/:id\" component={ManageData} />\r\n        <Route component={PageNotFound} />\r\n      </Switch>\r\n      </HashRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}